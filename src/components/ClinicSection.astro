---
import { Image } from 'astro:assets';
import SectionHeading from './SectionHeading.astro';
import clinicVideoThumb from '../assets/images/clinic-video.jpg';

interface Props {
	background?: 'white' | 'blue-white';
}

const { background = 'white' } = Astro.props;
const bgClass = background === 'blue-white' ? 'bg-blue-white' : 'bg-white';

/*
  Video thumbnail:
  - Card is `relative flex items-center justify-center` with explicit dimensions.
  - Background image + overlay are inside aria-hidden absolute div (decorative).
  - Play button is a normal-flow flex child, centered by the parent flex container.
*/
---

<section class:list={[bgClass, 'py-24 w-full']}>
	<div class="container-site flex flex-col lg:flex-row items-center gap-8 lg:gap-20">

		<!-- Text content — first on mobile, sticky on desktop -->
		<div class="flex-1 min-w-0 w-full order-1 lg:order-2 flex flex-col items-center lg:items-start lg:sticky lg:top-24 lg:self-start">
			<SectionHeading
				label="Sobre nosotros"
				title="Conoce la clínica"
				description="Nuestra clínica cuenta con 40 años de experiencia atendiendo a familias de El Bosque y sus alrededores. Disponemos de infraestructura completa, desde scanner 3D hasta laboratorio de patología oral propio."
				centerOnMobile
			/>
		</div>

		<!-- Video thumbnail — second on mobile -->
		<div class="relative flex items-center justify-center rounded-2xl overflow-hidden shrink-0 w-full max-w-full lg:w-[480px] h-56 lg:h-80 order-2 lg:order-1">
			<!-- Decorative background -->
			<div class="absolute inset-0" aria-hidden="true">
				<Image
					src={clinicVideoThumb}
					alt=""
					class="w-full h-full object-cover opacity-80"
				/>
				<div class="absolute inset-0 bg-black/40" />
			</div>
			<!-- Play button — centered by parent flex -->
			<button
				type="button"
				aria-label="Reproducir video de la clínica"
				class="relative cursor-pointer flex items-center justify-center size-14 rounded-full bg-white/80 hover:bg-white transition-colors shrink-0"
			>
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-6 fill-french-ultramarine/80" aria-hidden="true">
					<path d="M8 5v14l11-7z"/>
				</svg>
			</button>
		</div>

	</div>
</section>
