---
import { Image } from 'astro:assets';
import SectionHeading from './SectionHeading.astro';
import instagramTestimonyOne from '../assets/images/instagram-testimony-one.png';
import instagramTestimonyTwo from '../assets/images/instagram-testimony-two.png';
import instagramTestimonyThree from '../assets/images/instagram-testimony-three.png';

const testimonyImages = [instagramTestimonyOne, instagramTestimonyTwo, instagramTestimonyThree];

interface Props {
	background?: 'white' | 'blue-white';
	specialtyLabel?: string;
}

const { background = 'white', specialtyLabel } = Astro.props;
const bgClass = background === 'white' ? 'bg-white' : 'bg-blue-white';
---

<section class:list={[bgClass, 'py-24 w-full']}>
	<div class="container-site flex flex-col lg:flex-row items-center gap-16 lg:gap-20">

		<div class="flex-1 flex flex-col items-start">
			<SectionHeading
				label="Casos de éxito"
				title="Testimonios de pacientes"
				description={`Nuestros pacientes son la mejor evidencia. Conoce los resultados de sus tratamientos${specialtyLabel ? ` de ${specialtyLabel}` : ''} y cómo mejoramos su calidad de vida.`}
			/>
		</div>

		<div class="w-full lg:w-auto overflow-x-auto overflow-y-hidden snap-x snap-mandatory flex gap-4 shrink-0 lg:overflow-visible lg:items-start -mx-4 px-4 lg:mx-0 lg:px-0 scroll-smooth">
			{[0, 1, 2].map((i) => (
				<div
					class:list={[
						'rounded-2xl overflow-hidden shrink-0 snap-center aspect-[390/844] w-[min(85vw,280px)] lg:w-[200px] border border-navy-blue/10',
						i === 1 && 'lg:mt-8',
					]}
				>
					<Image
						src={testimonyImages[i]}
						alt={`Caso de éxito ${i + 1}`}
						class="w-full h-full object-cover"
						width={390}
						height={844}
					/>
				</div>
			))}
		</div>

	</div>
</section>
